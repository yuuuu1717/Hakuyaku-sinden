<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>æ‚ªå½¹è¨ºæ–­ ğŸ˜ˆ</title>
  <style>
    body {
      background-color: #000;
      color: white;
      font-family: 'Arial', sans-serif;
      text-align: center;
      padding: 40px;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 30px;
    }

    .question {
      margin: 30px 0 10px;
      font-weight: bold;
    }

    .option {
      display: inline-block;
      margin: 8px;
      padding: 12px 24px;
      background-color: purple;
      color: white;
      border: 2px solid #333;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.2s;
    }

    .option:hover {
      background-color: #bb00ff;
    }

    .selected {
      background-color: black;
      border: 2px solid magenta;
    }

    .diagnose-button {
      display: block;
      margin: 40px auto 0;
      padding: 14px 28px;
      background-color: #FFD700;
      color: black;
      font-weight: bold;
      font-size: 1.1em;
      border: 2px solid #FFC107;
      border-radius: 12px;
      cursor: pointer;
      transition: 0.3s;
    }

    .diagnose-button:hover {
      background-color: #FFC107;
    }

    .countdown {
      font-size: 2em;
      margin-top: 30px;
      color: #ff00aa;
      display: none;
    }

    .result-box {
      margin-top: 40px;
      padding: 30px;
      background-color: #111;
      border: 2px solid #555;
      border-radius: 12px;
      display: none;
    }

    .result-title {
      font-size: 1.5em;
      margin-bottom: 10px;
    }

    .result-quote {
      font-style: italic;
      color: #ff00aa;
      margin: 10px 0;
    }

    .result-advice {
      color: #aaa;
      margin-top: 10px;
    }

    .result-share {
      margin-top: 20px;
      display: none;
    }

    .share-button {
      display: inline-block;
      padding: 8px 16px;
      background-color: #444;
      color: white;
      border-radius: 8px;
      text-decoration: none;
      margin: 5px;
      transition: background-color 0.2s;
    }

    .share-button:hover {
      background-color: #666;
    }

    .ad-box {
      margin-top: 50px;
      padding: 20px;
      background-color: #222;
      border: 2px dashed orange;
      color: orange;
      font-size: 0.9em;
    }
  </style>
</head>
<body>

  <h1>æ‚ªå½¹è¨ºæ–­ğŸ˜ˆ</h1>

  <div class="question">Q1: æ‚ªå½¹ã‚¿ã‚¤ãƒ—ã¯ï¼Ÿ</div>
  <div class="option" onclick="select(this, 'q1')">é™ã‹ã«å‹•ãã‚¹ãƒ‘ã‚¤</div>
  <div class="option" onclick="select(this, 'q1')">åœ§å€’ã™ã‚‹ã‚«ãƒªã‚¹ãƒ</div>

  <div class="question">Q2: ç›®çš„ã¯ï¼Ÿ</div>
  <div class="option" onclick="select(this, 'q2')">ä¸–ç•Œå¾æœ</div>
  <div class="option" onclick="select(this, 'q2')">å¾©è®</div>

  <div class="question">Q3: æ­¦å™¨ã¯ï¼Ÿ</div>
  <div class="option" onclick="select(this, 'q3')">æ¯’è–¬</div>
  <div class="option" onclick="select(this, 'q3')">å·¨å¤§ãƒ­ãƒœ</div>

  <button class="diagnose-button" onclick="startDiagnosis()">è¨ºæ–­ã™ã‚‹ï¼</button>

  <div class="countdown" id="countdown">5</div>

  <div class="result-box" id="resultBox">
    <div class="result-title" id="resultTitle"></div>
    <div class="result-quote" id="resultQuote"></div>
    <div class="result-advice" id="resultAdvice"></div>

    <div class="result-share" id="resultShare">
      <p style="color: #ccc;">ğŸ”— çµæœã‚’ã‚·ã‚§ã‚¢ã—ã‚ˆã†ï¼</p>
      <a id="shareTwitter" target="_blank" class="share-button">Xã§ã‚·ã‚§ã‚¢</a>
      <a id="shareLine" target="_blank" class="share-button">LINEã§é€ã‚‹</a>
    </div>
  </div>

  <div class="ad-box">
    â—† ã“ã“ã«åºƒå‘ŠãŒå…¥ã‚Šã¾ã™ï¼ˆAdSenseï¼‰ â—†
  </div>

  <script>
    const selections = { q1: '', q2: '', q3: '' };

    function select(element, question) {
      selections[question] = element.innerText;
      document.querySelectorAll('.option').forEach(el => {
        if (el.innerText === selections[question] && el.onclick.toString().includes(question)) {
          el.classList.add('selected');
        } else if (el.onclick.toString().includes(question)) {
          el.classList.remove('selected');
        }
      });
    }

    function startDiagnosis() {
      const { q1, q2, q3 } = selections;
      if (!q1 || !q2 || !q3) {
        alert("ã™ã¹ã¦ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„ï¼");
        return;
      }

      document.getElementById('countdown').style.display = 'block';
      document.getElementById('resultBox').style.display = 'none';
      document.getElementById('resultShare').style.display = 'none';

      let count = 5;
      document.getElementById('countdown').innerText = count;
      const timer = setInterval(() => {
        count--;
        document.getElementById('countdown').innerText = count;
        if (count === 0) {
          clearInterval(timer);
          document.getElementById('countdown').style.display = 'none';
          showResult();
        }
      }, 1000);
    }

    function showResult() {
      const { q1, q2, q3 } = selections;

      let title = "";
      let quote = "";
      let advice = "";

      if (q1 === "é™ã‹ã«å‹•ãã‚¹ãƒ‘ã‚¤" && q2 === "ä¸–ç•Œå¾æœ" && q3 === "æ¯’è–¬") {
        title = "å½±ã®æ”¯é…è€…ã‚¿ã‚¤ãƒ—";
        quote = "ã€Œé™å¯‚ã“ãã€æœ€ã‚‚æã‚ã—ã„åˆƒã ã€‚ã€";
        advice = "ç›®çš„ã®ãŸã‚ã«ã¯å£°ã‚’å‡ºã•ãšã¨ã‚‚ã€ä¸–ç•Œã¯æ“ã‚Œã‚‹ã€‚";
      } else if (q1 === "åœ§å€’ã™ã‚‹ã‚«ãƒªã‚¹ãƒ" && q2 === "å¾©è®" && q3 === "å·¨å¤§ãƒ­ãƒœ") {
        title = "ç ´å£Šã®å¾©è®è€…ã‚¿ã‚¤ãƒ—";
        quote = "ã€Œçµ¶æœ›ã®ä¸­ã§ã—ã‹ã€çœŸã®åŠ›ã¯ç”Ÿã¾ã‚Œãªã„ã€‚ã€";
        advice = "åŠ›ã®ä½¿ã„æ–¹æ¬¡ç¬¬ã§ã€ä¸–ç•Œã¯å…‰ã«ã‚‚é—‡ã«ã‚‚æŸ“ã¾ã‚‹ã€‚";
      } else {
        title = "è¬ã«åŒ…ã¾ã‚ŒãŸå­˜åœ¨";
        quote = "ã€Œæˆ‘ãŒåã‚’çŸ¥ã‚‹ã“ã¨ã¯ã€æ»…ã³ã®åºç« ã€‚ã€";
        advice = "ãã®çœŸã®å§¿ã‚’çŸ¥ã‚‹è€…ã¯ã„ãªã„â€¦ã€‚ã—ã‹ã—ä¸€æ­©è¸ã¿å‡ºã™ã¨ã€é‹å‘½ãŒå‹•ãå‡ºã™ã€‚";
      }

      document.getElementById('resultTitle').innerText = title;
      document.getElementById('resultQuote').innerText = quote;
      document.getElementById('resultAdvice').innerText = advice;
      document.getElementById('resultBox').style.display = 'block';

      // ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºã¨ãƒªãƒ³ã‚¯è¨­å®š
      const resultText = `ç§ã¯ã€Œ${title}ã€ï¼ ${quote}`;
      const pageUrl = location.href;

      const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(resultText)}&url=${encodeURIComponent(pageUrl)}`;
      const lineUrl = `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(pageUrl)}&text=${encodeURIComponent(resultText)}`;

      document.getElementById('shareTwitter').href = twitterUrl;
      document.getElementById('shareLine').href = lineUrl;
      document.getElementById('resultShare').style.display = 'block';
    }
  </script>

</body>
</html>
